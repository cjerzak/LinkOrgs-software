% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/LinkOrgs_PFuzzyEuclideanInternal.R
\name{pDistMatch_euclidean}
\alias{pDistMatch_euclidean}
\title{Compute Euclidean Distances Between Embeddings (Internal)}
\usage{
pDistMatch_euclidean(
  embedx,
  embedy,
  MaxDist = NULL,
  embedDistMetric = NULL,
  ReturnProgress = T
)
}
\arguments{
\item{embedx}{Numeric matrix; embeddings for the first set of observations. Rows
correspond to observations and columns to embedding dimensions.}

\item{embedy}{Numeric matrix; embeddings for the second set of observations. Rows
correspond to observations and columns to embedding dimensions.}

\item{MaxDist}{Numeric; maximum allowed Euclidean distance. Pairs with distances
greater than this threshold are excluded. If \code{NULL}, all pairs are returned.}

\item{embedDistMetric}{Optional function; custom distance metric. If \code{NULL},
Euclidean distance is computed. The function should take two arguments
(expanded x vector and transposed y matrix) and return a distance vector.}

\item{ReturnProgress}{Logical; if \code{TRUE}, progress information is available
(currently disabled). Default is \code{TRUE}.}
}
\value{
A data frame with three columns:
\describe{
\item{ix}{Integer; row index in \code{embedx} of the matched record.}
\item{iy}{Integer; row index in \code{embedy} of the matched record.}
\item{stringdist}{Numeric; the Euclidean distance between the matched pair's
embeddings (named \code{stringdist} for consistency with discrete matching).}
}
Returns an empty data frame if no matches are found below \code{MaxDist}.
}
\description{
Computes pairwise Euclidean distances between embedding vectors from two sets of
observations. This function is used internally for ML-based matching where
organization names have been converted to numeric embeddings.
}
\details{
This function computes Euclidean distances between all pairs of
embedding vectors. For efficiency:
\itemize{
\item Automatically swaps \code{embedx} and \code{embedy} if \code{embedy} has fewer rows for
better vectorization.
\item Uses JAX for GPU acceleration when available (detected automatically).
\item Rounds embeddings to reduce precision overhead when embedding precision differs.
}

The function is typically called by \code{\link[=pFuzzyMatch_euclidean]{pFuzzyMatch_euclidean()}} rather than
directly by users.
}
\examples{
\dontrun{
# Create synthetic embeddings
embedx <- matrix(rnorm(4 * 256), nrow = 4)
embedy <- matrix(rnorm(4 * 256), nrow = 4)

# Compute distances
distances <- pDistMatch_euclidean(embedx = embedx,
                                  embedy = embedy,
                                  MaxDist = 5.0)
}

}
\seealso{
\code{\link[=pFuzzyMatch_euclidean]{pFuzzyMatch_euclidean()}} for the higher-level wrapper that returns
merged data, \code{\link[=pDistMatch_discrete]{pDistMatch_discrete()}} for string-distance-based matching.
}
